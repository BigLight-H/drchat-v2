{"version":3,"file":"js/892.4dfe27bc.js","mappings":"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","sources":["webpack://drchat/./src/components/Userinfo.vue?57d3","webpack://drchat/./src/components/Userinfo.vue","webpack://drchat/./src/views/Contact/InfoBox.vue?4bc5","webpack://drchat/./src/controller/InfoBoxController.ts","webpack://drchat/./src/views/Contact/InfoBox.vue?4a69","webpack://drchat/./src/views/Contact/InfoBox.vue"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, unref as _unref, createTextVNode as _createTextVNode, Fragment as _Fragment, withKeys as _withKeys, renderSlot as _renderSlot, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-4115dacc\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"info-box\" }\nconst _hoisted_2 = { class: \"info-head\" }\nconst _hoisted_3 = { class: \"info-main\" }\nconst _hoisted_4 = { class: \"info-title\" }\nconst _hoisted_5 = { class: \"xingbie\" }\nconst _hoisted_6 = {\n  key: 0,\n  class: \"info-breif\"\n}\nconst _hoisted_7 = { class: \"info-avatar\" }\nconst _hoisted_8 = [\"src\"]\nconst _hoisted_9 = { class: \"info-body\" }\nconst _hoisted_10 = { key: 0 }\nconst _hoisted_11 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"td\", { class: \"info-item-field\" }, \"用户名\", -1))\nconst _hoisted_12 = { class: \"info-item-value\" }\nconst _hoisted_13 = { key: 1 }\nconst _hoisted_14 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"td\", { class: \"info-item-field\" }, \"备注\", -1))\nconst _hoisted_15 = { class: \"info-item-value\" }\nconst _hoisted_16 = {\n  key: 1,\n  class: \"to-mark\"\n}\nconst _hoisted_17 = [\"value\"]\nconst _hoisted_18 = { key: 2 }\nconst _hoisted_19 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"td\", { class: \"info-item-field\" }, \"地区\", -1))\nconst _hoisted_20 = { class: \"info-item-value\" }\nconst _hoisted_21 = { key: 3 }\nconst _hoisted_22 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"td\", { class: \"info-item-field\" }, \"签名\", -1))\nconst _hoisted_23 = { class: \"info-item-value\" }\nconst _hoisted_24 = { key: 4 }\nconst _hoisted_25 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"td\", { class: \"info-item-field\" }, \"来源\", -1))\nconst _hoisted_26 = { class: \"info-item-value\" }\nconst _hoisted_27 = {\n  key: 0,\n  class: \"info-body\"\n}\nconst _hoisted_28 = { class: \"info-item-field\" }\nconst _hoisted_29 = { class: \"info-item-value\" }\nconst _hoisted_30 = { class: \"info-foot\" }\n\nimport {nextTick, ref} from \"vue\";\n\n    \nexport default /*#__PURE__*/_defineComponent({\n  __name: 'Userinfo',\n  props: {\n        info: Object,\n        canContact: {\n            type: Boolean,\n            default: true,\n        },\n    },\n  emits: ['contact', 'tomark'],\n  setup(__props, { emit: emits }) {\n\nconst props = __props;\n\n    \n    \n    let marknameInputVisible = ref(false);\n    const marknameInput = ref();\n\n    const handleContact = () => {\n        emits('contact', props.info);\n    };\n    const showMarkInput = () => {\n        marknameInputVisible.value = true;\n        nextTick(() => {\n            marknameInput.value.focus();\n        });\n    }\n    const handleTomark = (e: any) => {\n        marknameInputVisible.value = false;\n        var markname = e.target.value;\n        /*if (markname) */\n        //props.info.markname = markname;\n        emits('tomark', props.info?.fid, markname);\n    };\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", _hoisted_3, [\n        _createElementVNode(\"div\", _hoisted_4, _toDisplayString(__props.info.nickname), 1),\n        _createElementVNode(\"div\", _hoisted_5, [\n          _createElementVNode(\"i\", {\n            class: _normalizeClass([\"iconfont\", {\n                        nanxing: __props.info.sex == 1,\n                        nvxing: __props.info.sex == 2,\n                        'icon-nanxing': __props.info.sex == 1,\n                        'icon-nvxing': __props.info.sex == 2,\n                    }])\n          }, null, 2)\n        ]),\n        ('signature' in __props.info)\n          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, _toDisplayString(__props.info.signature), 1))\n          : _createCommentVNode(\"\", true)\n      ]),\n      _createElementVNode(\"div\", _hoisted_7, [\n        _createElementVNode(\"img\", {\n          src: __props.info.avatar\n        }, null, 8, _hoisted_8)\n      ])\n    ]),\n    _createElementVNode(\"div\", _hoisted_9, [\n      _createElementVNode(\"table\", null, [\n        ('username' in __props.info)\n          ? (_openBlock(), _createElementBlock(\"tr\", _hoisted_10, [\n              _hoisted_11,\n              _createElementVNode(\"td\", _hoisted_12, _toDisplayString(__props.info.username), 1)\n            ]))\n          : _createCommentVNode(\"\", true),\n        ('remark_name' in __props.info)\n          ? (_openBlock(), _createElementBlock(\"tr\", _hoisted_13, [\n              _hoisted_14,\n              _createElementVNode(\"td\", _hoisted_15, [\n                (!_unref(marknameInputVisible))\n                  ? (_openBlock(), _createElementBlock(\"div\", {\n                      key: 0,\n                      class: \"ready-to-mark\",\n                      onClick: showMarkInput\n                    }, [\n                      (!__props.info.remark_name)\n                        ? (_openBlock(), _createElementBlock(_Fragment, { key: 0 }, [\n                            _createTextVNode(\"点击添加备注\")\n                          ], 64))\n                        : (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n                            _createTextVNode(_toDisplayString(__props.info.remark_name), 1)\n                          ], 64))\n                    ]))\n                  : _createCommentVNode(\"\", true),\n                (_unref(marknameInputVisible))\n                  ? (_openBlock(), _createElementBlock(\"div\", _hoisted_16, [\n                      _createElementVNode(\"input\", {\n                        class: \"markname-input\",\n                        ref_key: \"marknameInput\",\n                        ref: marknameInput,\n                        onKeyup: _cache[0] || (_cache[0] = _withKeys(\n//@ts-ignore\n(...args) => (_ctx.$event.target.blur && _ctx.$event.target.blur(...args)), [\"enter\"])),\n                        onBlur: handleTomark,\n                        value: __props.info.remark_name\n                      }, null, 40, _hoisted_17)\n                    ]))\n                  : _createCommentVNode(\"\", true)\n              ])\n            ]))\n          : _createCommentVNode(\"\", true),\n        ('city' in __props.info)\n          ? (_openBlock(), _createElementBlock(\"tr\", _hoisted_18, [\n              _hoisted_19,\n              _createElementVNode(\"td\", _hoisted_20, _toDisplayString(__props.info.city), 1)\n            ]))\n          : _createCommentVNode(\"\", true),\n        ('signature' in __props.info)\n          ? (_openBlock(), _createElementBlock(\"tr\", _hoisted_21, [\n              _hoisted_22,\n              _createElementVNode(\"td\", _hoisted_23, _toDisplayString(__props.info.signature), 1)\n            ]))\n          : _createCommentVNode(\"\", true),\n        ('source' in __props.info)\n          ? (_openBlock(), _createElementBlock(\"tr\", _hoisted_24, [\n              _hoisted_25,\n              _createElementVNode(\"td\", _hoisted_26, _toDisplayString(__props.info.source), 1)\n            ]))\n          : _createCommentVNode(\"\", true)\n      ])\n    ]),\n    ('marktext' in __props.info)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_27, [\n          _createElementVNode(\"table\", null, [\n            _createElementVNode(\"tr\", null, [\n              _createElementVNode(\"td\", _hoisted_28, _toDisplayString(__props.info.nickname), 1),\n              _createElementVNode(\"td\", _hoisted_29, _toDisplayString(__props.info.marktext), 1)\n            ])\n          ])\n        ]))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"div\", _hoisted_30, [\n      (__props.canContact)\n        ? (_openBlock(), _createElementBlock(\"div\", {\n            key: 0,\n            class: \"send-btn\",\n            onClick: handleContact\n          }, \"发消息\"))\n        : _createCommentVNode(\"\", true),\n      _renderSlot(_ctx.$slots, \"info-foot\")\n    ])\n  ]))\n}\n}\n\n})","import script from \"./Userinfo.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./Userinfo.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./Userinfo.vue?vue&type=style&index=0&id=4115dacc&lang=less&scoped=true\"\n\nimport exportComponent from \"/Users/biglight/wwwroot/drchat-v2/front-end/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-4115dacc\"]])\n\nexport default __exports__","import { resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, withCtx as _withCtx, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-431b4da4\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { key: 0 }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_CloseOutlined = _resolveComponent(\"CloseOutlined\")!\n  const _component_Userinfo = _resolveComponent(\"Userinfo\")!\n\n  return (_ctx.info)\n    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        (!_ctx.isMobile)\n          ? (_openBlock(), _createElementBlock(\"div\", {\n              key: 0,\n              class: \"close\",\n              onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.closeBox && _ctx.closeBox(...args)))\n            }, [\n              _createVNode(_component_CloseOutlined)\n            ]))\n          : _createCommentVNode(\"\", true),\n        _createVNode(_component_Userinfo, {\n          info: _ctx.info,\n          onContact: _ctx.handleContact,\n          onTomark: _ctx.handleMarkname\n        }, {\n          \"info-foot\": _withCtx(() => [\n            _createElementVNode(\"div\", {\n              class: \"send-btn del\",\n              style: {\"background-color\":\"#ff4500\",\"margin-top\":\"5px\"},\n              onClick: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.handleDelete && _ctx.handleDelete(...args)))\n            }, \" 删除Ta \")\n          ]),\n          _: 1\n        }, 8, [\"info\", \"onContact\", \"onTomark\"])\n      ]))\n    : _createCommentVNode(\"\", true)\n}","import Controller from \"@/interface/Controller\";\nimport {CloseOutlined} from \"@ant-design/icons-vue\";\nimport Userinfo from \"@/components/Userinfo.vue\";\nimport Friend from \"@/api/Friend\";\nimport {RouteLocationNormalized, Router, useRoute, useRouter} from \"vue-router\";\nimport {Store, useStore} from \"vuex\";\nimport {computed, onMounted, reactive, Ref, ref, unref, watch} from \"vue\";\nimport {message, Modal} from \"ant-design-vue\";\nimport ChatConversation from \"@/api/ChatConversation\";\nimport {debounce, isMobile, throttle} from \"@/lib/Util\";\n\nexport default class InfoBoxController implements Controller {\n    protected route!: RouteLocationNormalized;\n    protected router!: Router;\n    protected store!: Store<any>;\n    protected info!: Ref;\n    protected components = {\n        CloseOutlined,\n        Userinfo,\n    };\n\n    setup(props: any, context: any): any {\n        this.route = useRoute();\n        this.router = useRouter();\n        this.store = useStore();\n        this.info = ref();\n        let friend_id: any = computed(() => this.route.query.friend_id);\n        onMounted(() => {\n        });\n        watch(friend_id, (v: number) => {\n            if (v) {\n                Friend.loading().info(v).then(\n                    (res: any) => this.info.value = reactive({...res.data, ...res.data.friend,})\n                );\n            } else {\n                this.info.value = null;\n            }\n        }, {immediate: true});\n\n        return {\n            info: this.info,\n            isMobile: computed(() => isMobile()),\n            closeBox: this.closeBox.bind(this),\n            handleDelete: throttle(this.handleDelete.bind(this)),\n            handleMarkname: this.handleMarkname.bind(this),\n            handleContact: throttle(this.handleContact.bind(this)),\n        };\n    }\n\n    protected handleDelete = () => {\n        Modal.confirm({\n            title: '删除好友',\n            content: \"确定删除？\",\n            okText: \"确定\",\n            cancelText: \"再想想\",\n            onOk: () => {\n                return Friend.delete(unref(this.info)?.friend_id).then((res: any) => {\n                    this.store.dispatch('Contact/refreshFriendList');\n                    message.success(res.message);\n                    this.router.push('/contact');\n                });\n            },\n        });\n    }\n\n    protected handleMarkname() {\n    }\n\n    protected closeBox() {\n        this.router.push('/contact');\n    }\n\n    protected handleContact(info: any) {\n        ChatConversation.loading(true).createConversation(info.friend_id).then((res: any) => {\n            this.store.dispatch('Conversation/refreshConversationList');\n            this.router.push({\n                name: isMobile() ? 'mobile-message' : 'message',\n                query: {\n                    conversation_id: res.data.conversation_id,\n                },\n            });\n        });\n    }\n}\n","\n    import useController from \"@/lib/useController\";\n    import InfoBoxController from \"@/controller/InfoBoxController\";\n\n    export default useController(new InfoBoxController());\n","import { render } from \"./InfoBox.vue?vue&type=template&id=431b4da4&scoped=true&ts=true\"\nimport script from \"./InfoBox.vue?vue&type=script&lang=ts\"\nexport * from \"./InfoBox.vue?vue&type=script&lang=ts\"\n\nimport \"./InfoBox.vue?vue&type=style&index=0&id=431b4da4&lang=less&scoped=true\"\n\nimport exportComponent from \"/Users/biglight/wwwroot/drchat-v2/front-end/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-431b4da4\"]])\n\nexport default __exports__"],"names":["_withScopeId","n","_pushScopeId","_popScopeId","_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","key","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_createElementVNode","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_defineComponent","__name","props","info","Object","canContact","type","Boolean","default","emits","setup","__props","emit","marknameInputVisible","ref","marknameInput","handleContact","showMarkInput","value","nextTick","focus","handleTomark","e","markname","target","fid","_ctx","_cache","_openBlock","_createElementBlock","_toDisplayString","nickname","_normalizeClass","nanxing","sex","nvxing","signature","_createCommentVNode","src","avatar","username","_unref","onClick","remark_name","_Fragment","_createTextVNode","ref_key","onKeyup","_withKeys","args","$event","blur","onBlur","city","source","marktext","_renderSlot","$slots","__exports__","render","$props","$setup","$data","$options","_component_CloseOutlined","_resolveComponent","_component_Userinfo","isMobile","closeBox","_createVNode","onContact","onTomark","handleMarkname","_withCtx","style","handleDelete","_","InfoBoxController","CloseOutlined","Userinfo","Modal","title","content","okText","cancelText","onOk","Friend","unref","this","friend_id","then","res","store","dispatch","message","router","push","context","route","useRoute","useRouter","useStore","computed","query","onMounted","watch","v","reactive","data","friend","immediate","bind","throttle","ChatConversation","createConversation","name","conversation_id","useController"],"sourceRoot":""}