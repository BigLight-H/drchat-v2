"use strict";(self["webpackChunkdrchat"]=self["webpackChunkdrchat"]||[]).push([[892],{7155:function(i,n,e){e.d(n,{Z:function(){return W}});var t=e(3396),o=e(7139),a=e(4870),s=e(9242);const l=i=>((0,t.dD)("data-v-4115dacc"),i=i(),(0,t.Cn)(),i),r={class:"info-box"},c={class:"info-head"},d={class:"info-main"},f={class:"info-title"},u={class:"xingbie"},k={key:0,class:"info-breif"},v={class:"info-avatar"},h=["src"],m={class:"info-body"},_={key:0},g=l((()=>(0,t._)("td",{class:"info-item-field"},"用户名",-1))),w={class:"info-item-value"},y={key:1},b=l((()=>(0,t._)("td",{class:"info-item-field"},"备注",-1))),p={class:"info-item-value"},C={key:1,class:"to-mark"},D=["value"],x={key:2},Z=l((()=>(0,t._)("td",{class:"info-item-field"},"地区",-1))),q={class:"info-item-value"},z={key:3},U=l((()=>(0,t._)("td",{class:"info-item-field"},"签名",-1))),B={class:"info-item-value"},M={key:4},H=l((()=>(0,t._)("td",{class:"info-item-field"},"来源",-1))),T={class:"info-item-value"},I={key:0,class:"info-body"},O={class:"info-item-field"},P={class:"info-item-value"},Y={class:"info-foot"};var j=(0,t.aZ)({__name:"Userinfo",props:{info:Object,canContact:{type:Boolean,default:!0}},emits:["contact","tomark"],setup(i,{emit:n}){const e=i;let l=(0,a.iH)(!1);const j=(0,a.iH)(),F=()=>{n("contact",e.info)},S=()=>{l.value=!0,(0,t.Y3)((()=>{j.value.focus()}))},W=i=>{l.value=!1;var t=i.target.value;n("tomark",e.info?.fid,t)};return(n,e)=>((0,t.wg)(),(0,t.iD)("div",r,[(0,t._)("div",c,[(0,t._)("div",d,[(0,t._)("div",f,(0,o.zw)(i.info.nickname),1),(0,t._)("div",u,[(0,t._)("i",{class:(0,o.C_)(["iconfont",{nanxing:1==i.info.sex,nvxing:2==i.info.sex,"icon-nanxing":1==i.info.sex,"icon-nvxing":2==i.info.sex}])},null,2)]),"signature"in i.info?((0,t.wg)(),(0,t.iD)("div",k,(0,o.zw)(i.info.signature),1)):(0,t.kq)("",!0)]),(0,t._)("div",v,[(0,t._)("img",{src:i.info.avatar},null,8,h)])]),(0,t._)("div",m,[(0,t._)("table",null,["username"in i.info?((0,t.wg)(),(0,t.iD)("tr",_,[g,(0,t._)("td",w,(0,o.zw)(i.info.username),1)])):(0,t.kq)("",!0),"remark_name"in i.info?((0,t.wg)(),(0,t.iD)("tr",y,[b,(0,t._)("td",p,[(0,a.SU)(l)?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",{key:0,class:"ready-to-mark",onClick:S},[i.info.remark_name?((0,t.wg)(),(0,t.iD)(t.HY,{key:1},[(0,t.Uk)((0,o.zw)(i.info.remark_name),1)],64)):((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[(0,t.Uk)("点击添加备注")],64))])),(0,a.SU)(l)?((0,t.wg)(),(0,t.iD)("div",C,[(0,t._)("input",{class:"markname-input",ref_key:"marknameInput",ref:j,onKeyup:e[0]||(e[0]=(0,s.D2)(((...i)=>n.$event.target.blur&&n.$event.target.blur(...i)),["enter"])),onBlur:W,value:i.info.remark_name},null,40,D)])):(0,t.kq)("",!0)])])):(0,t.kq)("",!0),"city"in i.info?((0,t.wg)(),(0,t.iD)("tr",x,[Z,(0,t._)("td",q,(0,o.zw)(i.info.city),1)])):(0,t.kq)("",!0),"signature"in i.info?((0,t.wg)(),(0,t.iD)("tr",z,[U,(0,t._)("td",B,(0,o.zw)(i.info.signature),1)])):(0,t.kq)("",!0),"source"in i.info?((0,t.wg)(),(0,t.iD)("tr",M,[H,(0,t._)("td",T,(0,o.zw)(i.info.source),1)])):(0,t.kq)("",!0)])]),"marktext"in i.info?((0,t.wg)(),(0,t.iD)("div",I,[(0,t._)("table",null,[(0,t._)("tr",null,[(0,t._)("td",O,(0,o.zw)(i.info.nickname),1),(0,t._)("td",P,(0,o.zw)(i.info.marktext),1)])])])):(0,t.kq)("",!0),(0,t._)("div",Y,[i.canContact?((0,t.wg)(),(0,t.iD)("div",{key:0,class:"send-btn",onClick:F},"发消息")):(0,t.kq)("",!0),(0,t.WI)(n.$slots,"info-foot")])]))}}),F=e(89);const S=(0,F.Z)(j,[["__scopeId","data-v-4115dacc"]]);var W=S},5892:function(i,n,e){e.r(n),e.d(n,{default:function(){return p}});var t=e(3396);const o={key:0};function a(i,n,e,a,s,l){const r=(0,t.up)("CloseOutlined"),c=(0,t.up)("Userinfo");return i.info?((0,t.wg)(),(0,t.iD)("div",o,[i.isMobile?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",{key:0,class:"close",onClick:n[0]||(n[0]=(...n)=>i.closeBox&&i.closeBox(...n))},[(0,t.Wm)(r)])),(0,t.Wm)(c,{info:i.info,onContact:i.handleContact,onTomark:i.handleMarkname},{"info-foot":(0,t.w5)((()=>[(0,t._)("div",{class:"send-btn del",style:{"background-color":"#ff4500","margin-top":"5px"},onClick:n[1]||(n[1]=(...n)=>i.handleDelete&&i.handleDelete(...n))}," 删除Ta ")])),_:1},8,["info","onContact","onTomark"])])):(0,t.kq)("",!0)}var s=e(5818),l=e(2482),r=(e(7658),e(5599)),c=e(7155),d=e(9897),f=e(2483),u=e(65),k=e(4870),v=e(3495),h=e(2074),m=e(4152),_=e(3641);class g{constructor(){(0,l.Z)(this,"route",void 0),(0,l.Z)(this,"router",void 0),(0,l.Z)(this,"store",void 0),(0,l.Z)(this,"info",void 0),(0,l.Z)(this,"components",{CloseOutlined:r.Z,Userinfo:c.Z}),(0,l.Z)(this,"handleDelete",(()=>{v.Z.confirm({title:"删除好友",content:"确定删除？",okText:"确定",cancelText:"再想想",onOk:()=>d.Z["delete"]((0,k.SU)(this.info)?.friend_id).then((i=>{this.store.dispatch("Contact/refreshFriendList"),h.ZP.success(i.message),this.router.push("/contact")}))})}))}setup(i,n){this.route=(0,f.yj)(),this.router=(0,f.tv)(),this.store=(0,u.oR)(),this.info=(0,k.iH)();let e=(0,t.Fl)((()=>this.route.query.friend_id));return(0,t.bv)((()=>{})),(0,t.YP)(e,(i=>{i?d.Z.loading().info(i).then((i=>this.info.value=(0,k.qj)({...i.data,...i.data.friend}))):this.info.value=null}),{immediate:!0}),{info:this.info,isMobile:(0,t.Fl)((()=>(0,_.tq)())),closeBox:this.closeBox.bind(this),handleDelete:(0,_.P2)(this.handleDelete.bind(this)),handleMarkname:this.handleMarkname.bind(this),handleContact:(0,_.P2)(this.handleContact.bind(this))}}handleMarkname(){}closeBox(){this.router.push("/contact")}handleContact(i){m.Z.loading(!0).createConversation(i.friend_id).then((i=>{this.store.dispatch("Conversation/refreshConversationList"),this.router.push({name:(0,_.tq)()?"mobile-message":"message",query:{conversation_id:i.data.conversation_id}})}))}}var w=(0,s.Z)(new g),y=e(89);const b=(0,y.Z)(w,[["render",a],["__scopeId","data-v-431b4da4"]]);var p=b}}]);
//# sourceMappingURL=892.4dfe27bc.js.map